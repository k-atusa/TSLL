// datatypes.tsllc
// 구조체와 열거형 정의를 테스트하기 위한 모듈입니다.
// 대문자로 시작하는 타입만 외부로 공개됩니다.

// --- 기본 공개 구조체 ---
struct Point {
    i32 X;
    i32 Y;
}

// --- 다른 구조체를 멤버로 가지는 공개 구조체 ---
struct Rectangle {
    Point TopLeft;
    i32 Width;
    i32 Height;
}

// --- 구조체 메서드 선언 ---
// 함수명 앞에 '구조체타입.'을 붙여 메서드를 정의합니다.
// 첫 인자는 관례적으로 해당 구조체의 포인터여야 합니다.
i32 Rectangle.Area(Rectangle* self) {
    return self.Width * self.Height;
}

// --- 공개 열거형 ---
// 기본값(0부터), 사용자 지정값, 음수값을 테스트합니다.
enum Status {
    OK,          // 0
    PENDING,     // 1
    WARNING,     // 2
    ERROR = -1,
    TIMEOUT = -2
}

// --- 포인터를 이용한 순환 참조 구조체 ---
// pass1의 타입 크기 확정 단계에서 무한 루프에 빠지지 않는지 테스트합니다.
// A는 B를, B는 A를 포인터로 참조합니다.
struct NodeA {
    NodeB* next;
    i32 data;
}

struct NodeB {
    NodeA* prev;
    i32 data;
}

// --- 비공개(private) 구조체 ---
// 소문자로 시작하므로 이 파일 외부에서는 사용할 수 없습니다.
struct internalConfig {
    u8* key;
    u8* value;
}